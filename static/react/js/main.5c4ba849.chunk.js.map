{"version":3,"sources":["middleware/history.js","middleware/index.js","component/auth/redux/actions.js","component/auth/redux/reducer.js","store/reducer.js","component/auth/redux/requests/index.js","component/auth/redux/sagas.js","store/saga.js","store/store.js","component/notFoundPage/NotFoundPage.js","component/modal/modal.js","component/table/index.js","component/conf/index.js","component/month/index.js","component/day/index.js","component/questionPopover/questionPopover.js","component/showModal/ShowModal.js","component/auth/Login.js","component/header/Header.js","App.js","serviceWorker.js","index.js"],"names":["customHistory","createBrowserHistory","redirectMiddleware","store","next","action","url","window","location","pathname","type","history","push","createActions","login","setUser","resetUser","loginSuccess","loginFailure","restoreProfile","restoreProfileSuccess","restoreProfileFailure","logout","user","handleActions","authAction","state","payload","detail","_payload","loading","error","status","restore","authentication","combineReducers","loginRequest","values","fetch","method","headers","Accept","body","JSON","stringify","then","response","profileRequest","token","Authorization","loginSaga","logoutSaga","restoreProfileSaga","loginWatcher","responseMessage","401","406","call","data","put","localStorage","setItem","_action","removeItem","getItem","takeEvery","toString","fork","createAppStore","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","composeWithDevTools","compose","createStore","rootReducer","applyMiddleware","run","sagas","notFoundPage","this","props","errorText","errorCaption","id","className","React","Component","confirm","Modal","showSuccessModal","obj","seconds","secondsToClose","successEmployeeAction","setNewButtonCaption","okText","timer","setInterval","setTimeout","clearInterval","destroy","comp","text","update","placeholder","style","fontSize","spin","normTime","time","newTime","h","m","label","key","DownloadBtn","result","useState","csvLink","setCsvLink","useEffect","link","document","getElementsByClassName","item","onClick","title","icon","content","onOk","click","cancelText","centered","filename","TimeTable","monthFilter","daysFilter","renderResult","undefined","map","record","index","running_min","day_worked","String","days","filter","r","date","slice","length","day_more","day_less","onRow","last_name","replace","locale","emptyText","dataSource","columns","cols","dataIndex","width","render","sorter","a","b","localeCompare","renderColumns","config","initialValue","required","validate","trigger","rules","message","Option","Select","connect","authStatus","authError","restoreStatus","Form","create","form","rest","calculateDate","retrieve","month","alert","scope_days","reduce","acc","includes","forEach","day","setLoading","setResult","moment","utc","format","setMonthFilter","getData","async","rawResponse","json","display","onChange","e","value","omnipotent","Days","match","params","to","ghost","questionPopover","children","position","fill","height","placement","xmlns","fillRule","clipRule","d","TextArea","Input","Fragment","ShowModal","addUser","closable","maskClosable","setState","visible","onSubmit","persist","validateFields","err","resetFields","showModal","handleOk","handleCancel","onCancel","cancelButtonProps","Item","getFieldDecorator","rows","PureComponent","submitLogin","autoComplete","prefix","color","Text","Typography","href","strong","code","exact","path","Boolean","hostname","ReactDOM","createHistory","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"js/main.5c4ba849.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\nconst customHistory = createBrowserHistory();\r\nexport default customHistory;","import history from \"./history\";\r\n\r\nexport const redirectMiddleware = store => next => action => {\r\n  const url = window.location.pathname;\r\n  // const loginStatus = store.getState().authentication.status;\r\n  // const restoreStatus = store.getState().authentication.restore.status;\r\n\r\n  if (\r\n    action.type === \"SET_USER\" ||\r\n    action.type === \"RESTORE_PROFILE_SUCCESS\"\r\n  ) {\r\n    history.push(\"/\");\r\n  }\r\n  if (action.type === \"LOGOUT\") {\r\n    history.push(\"/login\");\r\n  }\r\n  if (action.type === \"RESTORE_PROFILE_FAILURE\" && url != \"/login\") {\r\n    history.push(\"/login\");\r\n  }\r\n  return next(action);\r\n};\r\n","import { createActions } from \"redux-actions\";\r\n\r\nconst {\r\n  login,\r\n  setUser,\r\n  resetUser,\r\n  loginSuccess,\r\n  loginFailure,\r\n  restoreProfile,\r\n  restoreProfileSuccess,\r\n  restoreProfileFailure,\r\n  logout\r\n} = createActions(\r\n  \"LOGIN\",\r\n  \"SET_USER\",\r\n  \"RESET_USER\",\r\n  \"LOGIN_SUCCESS\",\r\n  \"LOGIN_FAILURE\",\r\n  \"RESTORE_PROFILE\",\r\n  \"RESTORE_PROFILE_SUCCESS\",\r\n  \"RESTORE_PROFILE_FAILURE\",\r\n  \"LOGOUT\"\r\n);\r\n\r\nexport {\r\n  login,\r\n  setUser,\r\n  resetUser,\r\n  loginSuccess,\r\n  loginFailure,\r\n  restoreProfile,\r\n  restoreProfileSuccess,\r\n  restoreProfileFailure,\r\n  logout\r\n};\r\n","import { handleActions } from \"redux-actions\";\r\nimport { combineReducers } from \"redux\";\r\nimport * as authAction from \"./actions\";\r\n\r\nconst user = handleActions(\r\n  {\r\n    [authAction.setUser]: (state, { payload }) => {\r\n      return payload;\r\n    },\r\n    [authAction.resetUser]: () => null\r\n  },\r\n  null\r\n);\r\n\r\nconst detail = handleActions(\r\n  {\r\n    [authAction.login]: (state, _payload) => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null\r\n    }),\r\n    [authAction.loginSuccess]: (state, { payload }) => ({\r\n      status: \"SUCCESS\",\r\n      loading: false\r\n    }),\r\n    [authAction.loginFailure]: (state, { payload }) => ({\r\n      error: payload,\r\n      status: \"FAILURE\",\r\n      loading: false\r\n    })\r\n  },\r\n  { error: null, status: \"IDLE\", loading: false }\r\n);\r\n\r\nconst restore = handleActions(\r\n  {\r\n    [authAction.restoreProfile]: (state, _payload) => ({\r\n      ...state\r\n    }),\r\n    [authAction.restoreProfileSuccess]: (state, { payload }) => ({\r\n      status: \"SUCCESS\"\r\n    }),\r\n    [authAction.restoreProfileFailure]: (state, { payload }) => ({\r\n      error: payload,\r\n      status: \"FAILURE\"\r\n    })\r\n  },\r\n  { error: null, status: \"IDLE\" }\r\n);\r\n\r\nexport const authentication = combineReducers({\r\n  user,\r\n  detail,\r\n  restore\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { authentication } from '../component/auth/redux/reducer'\r\n\r\nexport default combineReducers({\r\n    authentication\r\n});","export const loginRequest = values =>\r\n  fetch(\"/identity\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(values)\r\n  }).then(response => response);\r\n\r\nexport const profileRequest = token =>\r\n  fetch(\"/identity\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `JWT ${token}`\r\n    }\r\n  }).then(response => response);\r\n","import { call, put, takeEvery } from \"redux-saga/effects\";\r\nimport { loginRequest, profileRequest } from \"./requests\";\r\nimport {\r\n  login,\r\n  setUser,\r\n  resetUser,\r\n  loginSuccess,\r\n  loginFailure,\r\n  restoreProfile,\r\n  restoreProfileSuccess,\r\n  restoreProfileFailure,\r\n  logout\r\n} from \"./actions\";\r\n\r\nconst responseMessage = {\r\n  401: \"неверный логин или api-key\",\r\n  406: \"к сожалению вы не можете войти в систему - т.к вы еще не наработали и минуты\"\r\n};\r\n\r\nfunction* loginSaga(action) {\r\n  const { payload } = action;\r\n  const response = yield call(loginRequest, payload);\r\n  if (response.status === 200) {\r\n    const data = yield call([response, \"json\"]);\r\n    const { token } = data.user;\r\n    const { user } = data;\r\n    yield put(setUser(user));\r\n    localStorage.setItem(\"wakav1.0-token\", token);\r\n    yield put(loginSuccess());\r\n  } else {\r\n    yield put(loginFailure(responseMessage[response.status]));\r\n  }\r\n}\r\n\r\nfunction* logoutSaga(_action) {\r\n  localStorage.removeItem(\"wakav1.0-token\");\r\n  yield put(resetUser());\r\n}\r\n\r\nfunction* restoreProfileSaga(_action) {\r\n  const token = localStorage.getItem(\"wakav1.0-token\");\r\n  if (token) {\r\n    const response = yield call(profileRequest, token);\r\n    const data = yield call([response, \"json\"]);\r\n    const { user } = data;\r\n    if (user) {\r\n      yield put(setUser(user));\r\n      yield put(restoreProfileSuccess());\r\n    } else if (data.error) {\r\n      localStorage.removeItem(\"wakav1.0-token\");\r\n      yield put(restoreProfileFailure(data.error));\r\n    }\r\n  } else {\r\n    yield put(restoreProfileFailure());\r\n  }\r\n}\r\n\r\nexport function* loginWatcher() {\r\n  yield takeEvery(login.toString(), loginSaga);\r\n  yield takeEvery(logout.toString(), logoutSaga);\r\n  yield takeEvery(restoreProfile.toString(), restoreProfileSaga);\r\n}\r\n","import { fork } from 'redux-saga/effects';\r\nimport { loginWatcher } from '../component/auth/redux/sagas'\r\n\r\n\r\nexport default function* () {\r\n    yield fork(loginWatcher);\r\n}","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { redirectMiddleware } from \"../middleware\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"./reducer\";\r\nimport sagas from \"./saga\";\r\n\r\nconst createAppStore = () => {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const composeEnhancers =\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ||\r\n    composeWithDevTools ||\r\n    compose;\r\n\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware, redirectMiddleware))\r\n  );\r\n\r\n  sagaMiddleware.run(sagas);\r\n\r\n  return store;\r\n};\r\n\r\nexport default createAppStore;\r\n","import React from 'react';\r\n\r\nimport './NotFoundPage.css';\r\n\r\nclass notFoundPage extends React.Component {\r\n  render() {\r\n    const { errorText, errorCaption } = this.props;\r\n    return (\r\n      <div id=\"notFoundPage\">\r\n        <h2 className=\"errorCaption\">{errorCaption}</h2>\r\n        <div className=\"errorText\">{errorText}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default notFoundPage;\r\n","import React from 'react';\r\nimport { Modal, Icon } from 'antd';\r\nimport './modal.css';\r\n\r\nconst confirm = Modal.confirm;\r\n\r\nexport const ConfirmBlue = (obj) => {\r\n    confirm({\r\n        title: 'Внимание!',\r\n        icon: <Icon type=\"question-circle\" />,\r\n        content: <span>Вы действительно хотите добавить нового пользоавателя?</span>,\r\n        cancelText: 'Отмена',\r\n        okText: 'Добавить',\r\n        centered: true,\r\n        className: 'blueConfirm',\r\n        ...obj\r\n    });\r\n};\r\n\r\nexport const showSuccessModal = (obj, seconds) => {\r\n    // если передано время закрытия используем его (если нет = 5)\r\n    let secondsToClose = (seconds ? seconds : 5);\r\n    // создаем модальное окно\r\n    const successEmployeeAction = Modal.confirm(obj);\r\n    // обновляем кнопку\r\n    setNewButtonCaption(successEmployeeAction, obj.okText, secondsToClose);\r\n    // обновляем состоянии кнопки по счеткику\r\n    const timer = setInterval(() => {\r\n        secondsToClose -= 1;\r\n        setNewButtonCaption(successEmployeeAction, obj.okText, secondsToClose);\r\n    }, 1000);\r\n    // закрываем окно по окончании отсчета\r\n    setTimeout(() => {\r\n        clearInterval(timer);\r\n        successEmployeeAction.destroy();\r\n    }, secondsToClose * 1000);\r\n};\r\n\r\n// дбавляем кол-во оставшихся до закрытия окна секунд к подписи кнопки\r\nconst setNewButtonCaption = (comp, text, seconds) => {\r\n    comp.update({\r\n        okText: text + \" (\" + seconds + \")\",\r\n    });\r\n};\r\n","import React from \"react\";\r\nimport { Icon, Table } from \"antd\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport { ConfirmBlue } from \"../modal\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst placeholder = <Icon type=\"loading\" style={{ fontSize: 44 }} spin />;\r\n\r\nconst normTime = time => {\r\n  let newTime;\r\n  var h = (time / 60) ^ 0;\r\n  if (h) {\r\n    var m = time % 60;\r\n    if (m < 10) m = \"0\" + m;\r\n    newTime = h + \" ч \" + m + \" м\";\r\n  } else {\r\n    newTime = time + \" м\";\r\n  }\r\n  return newTime;\r\n};\r\n\r\nconst headers = [\r\n  { label: \"Дата\", key: \"date\" },\r\n  { label: \"Фамилия\", key: \"last_name\" },\r\n  { label: \"Время\", key: \"running_min\" },\r\n  { label: \"Дней отработано\", key: \"day_worked\" },\r\n  { label: \"Дней > 4\", key: \"day_more\" },\r\n  { label: \"Дней < 4\", key: \"day_less\" }\r\n];\r\n\r\nconst DownloadBtn = ({ result }) => {\r\n  const [csvLink, setCsvLink] = useState(null);\r\n  useEffect(() => {\r\n    let link = document.getElementsByClassName(\"csvLink\");\r\n    setCsvLink(link.item(0) || null);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Icon\r\n        type=\"file-excel\"\r\n        onClick={() =>\r\n          ConfirmBlue({\r\n            title: \"Внимание!\",\r\n            icon: <Icon type=\"warning\" />,\r\n            content: (\r\n              <span>Вы действительно желаете скачать файл результатов?</span>\r\n            ),\r\n            onOk: () => {\r\n              csvLink.click();\r\n            },\r\n            okText: \"Согласен\"\r\n          })\r\n        }\r\n      />\r\n      <CSVLink\r\n        className=\"csvLink\"\r\n        filename={\"Time-Tracker.csv\"}\r\n        data={result}\r\n        headers={headers}\r\n      ></CSVLink>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const data = [\r\n//   { details: { firstName: \"Ahmed\", lastName: \"Tomi\" }, job: \"manager\" },\r\n//   { details: { firstName: \"John\", lastName: \"Jones\" }, job: \"developer\" }\r\n// ];\r\n\r\nconst TimeTable = ({ result, loading, history, monthFilter, daysFilter }) => {\r\n  const renderColumns = () => {\r\n    let cols = [\r\n      {\r\n        title: \"Дата\",\r\n        dataIndex: \"date\",\r\n        key: \"date\",\r\n        width: \"10%\",\r\n        render: date => <div>{date && date}</div>,\r\n        sorter: (a, b) => {\r\n          return a.date.localeCompare(b.date);\r\n        }\r\n      },\r\n      {\r\n        title: \"Фамилия\",\r\n        dataIndex: \"last_name\",\r\n        key: \"last_name\",\r\n        width: \"10%\",\r\n        render: last_name => <div>{last_name && last_name}</div>,\r\n        sorter: (a, b) => {\r\n          return a.last_name.localeCompare(b.last_name);\r\n        }\r\n      },\r\n      {\r\n        title: \"Время\",\r\n        dataIndex: \"running_min\",\r\n        key: \"running_min\",\r\n        width: \"10%\",\r\n        render: running_min => <div>{running_min && running_min}</div>,\r\n        sorter: (a, b) => {\r\n          return b.running_min.localeCompare(a.running_min);\r\n        }\r\n      }\r\n    ];\r\n\r\n    const addingCols = [\r\n      {\r\n        title: \"Дней отработано\",\r\n        dataIndex: \"day_worked\",\r\n        key: \"day_worked\",\r\n        width: \"10%\",\r\n        render: day_worked => <div>{day_worked && day_worked}</div>,\r\n        sorter: (a, b) => {\r\n          return b.day_worked - a.day_worked;\r\n        }\r\n      },\r\n      {\r\n        title: \"дней > 4 часов\",\r\n        dataIndex: \"day_more\",\r\n        key: \"day_more\",\r\n        width: \"10%\",\r\n        render: day_more => <div>{day_more && day_more}</div>,\r\n        sorter: (a, b) => {\r\n          return b.day_more - a.day_more;\r\n        }\r\n      },\r\n      {\r\n        title: \"дней < 4 часов\",\r\n        dataIndex: \"day_less\",\r\n        key: \"day_less\",\r\n        width: \"10%\",\r\n        render: day_less => <div>{day_less && day_less}</div>,\r\n        sorter: (a, b) => {\r\n          return b.day_less - a.day_less;\r\n        }\r\n      }\r\n    ];\r\n    return monthFilter !== undefined ? [...cols, ...addingCols] : [...cols];\r\n  };\r\n\r\n  const renderResult = () => {\r\n    if (monthFilter !== undefined) {\r\n      return result\r\n        .map((record, index) => ({\r\n          ...record,\r\n          key: index,\r\n          running_min: record.running_min && normTime(record.running_min),\r\n          day_worked: String(\r\n            record.days.filter(r => r.date.slice(3) == monthFilter).length\r\n          ),\r\n          day_more: String(\r\n            record.days.filter(\r\n              r => r.date.slice(3) == monthFilter && r.running_min > 240\r\n            ).length\r\n          ),\r\n          day_less: String(\r\n            record.days.filter(\r\n              r => r.date.slice(3) == monthFilter && r.running_min < 240\r\n            ).length\r\n          )\r\n        }))\r\n        .filter(record =>\r\n          monthFilter\r\n            ? record.date == monthFilter\r\n            : record.date.slice(3) == daysFilter\r\n        );\r\n    } else {\r\n      return result.map((record, index) => ({\r\n        ...record,\r\n        key: index,\r\n        running_min: record.running_min && normTime(record.running_min)\r\n      }));\r\n    }\r\n  };\r\n\r\n  const getDetail = (last_name, date) =>\r\n    monthFilter && history.push(`/detail/${last_name}/${date}`);\r\n\r\n  return (\r\n    <div className=\"Table-wrapper\">\r\n      {!loading && (\r\n        <div className=\"csv-area\">\r\n          <DownloadBtn result={renderResult()} />\r\n        </div>\r\n      )}\r\n\r\n      <Table\r\n        onRow={(record, index) => ({\r\n          index,\r\n          onClick: () =>\r\n            monthFilter &&\r\n            getDetail(record.last_name, monthFilter.replace(\"/\", \"_\"))\r\n        })}\r\n        locale={{ emptyText: loading ? placeholder : \"Нету результатов...\" }}\r\n        dataSource={renderResult()}\r\n        columns={renderColumns()}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimeTable;\r\n","export const config = (initialValue, required) => ({\r\n    initialValue,\r\n    validate: [\r\n        {\r\n            trigger: \"onChange\",\r\n            rules: [\r\n                {\r\n                    required: required,\r\n                    message: \"обязательное для заполнения\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n});","import React, { useState, useEffect } from \"react\";\r\nimport TimeTable from \"../table\";\r\nimport { Form, Input, Button, Icon, Select } from \"antd\";\r\nimport { ConfirmBlue, showSuccessModal } from \"../modal\";\r\nimport { config } from \"../conf\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst { Option } = Select;\r\n\r\nfunction Month({ form, authStatus, user, ...rest }) {\r\n  const calculateDate = retrieve => {\r\n    if (!retrieve.days || !retrieve.month) {\r\n      alert(\"error in fetch api\");\r\n      return [];\r\n    }\r\n    let scope_days = {};\r\n    const userArr = retrieve.month\r\n      .reduce(\r\n        (acc, record) =>\r\n          acc.includes(record.last_name) ? acc : [...acc, record.last_name],\r\n        []\r\n      )\r\n      .forEach(user => {\r\n        scope_days[user] = retrieve.days.filter(day => day.last_name == user);\r\n      });\r\n\r\n    return retrieve.month.map(record => ({\r\n      ...record,\r\n      days: scope_days[record.last_name]\r\n    }));\r\n  };\r\n\r\n  const getMonth = async values => {\r\n    setLoading(true);\r\n    const rawResponse = await fetch(\"/month_retrieve\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(values)\r\n    });\r\n    const content = await rawResponse.json();\r\n    setLoading(false);\r\n    setResult(content.data);\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState([]);\r\n  const [errors, setErrors] = useState(null);\r\n  const [monthFilter, setMonthFilter] = useState(\r\n    moment\r\n      .utc()\r\n      .format(\"MM/YYYY\")\r\n      .toString()\r\n  );\r\n\r\n  // const monthChange = e => getMonth({ 'month': e });\r\n\r\n  const getData = async () => {\r\n    setLoading(true);\r\n    const rawResponse = await fetch(\"/fetch\");\r\n    const content = await rawResponse.json();\r\n    setLoading(false);\r\n    setResult(calculateDate(content));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"row\">\r\n        <div>\r\n          <div className=\"table-hat\">\r\n            <div style={{ display: \"flex\" }}>\r\n              <Icon type=\"idcard\" />\r\n              <Select\r\n                className=\"select-month\"\r\n                placeholder=\"месяца\"\r\n                onChange={e => setMonthFilter(e)}\r\n                value={monthFilter}\r\n              >\r\n                {result &&\r\n                  result\r\n                    .reduce(\r\n                      (acc, record) =>\r\n                        acc.includes(record.date) ? acc : [...acc, record.date],\r\n                      []\r\n                    )\r\n                    .map(record => (\r\n                      <Option key={record} value={record}>\r\n                        {record}\r\n                      </Option>\r\n                    ))}\r\n              </Select>\r\n            </div>\r\n\r\n            <Icon type=\"clock-circle\" onClick={getData} id=\"update\" />\r\n          </div>\r\n          <TimeTable\r\n            result={\r\n              user\r\n                ? user.omnipotent\r\n                  ? result\r\n                  : result.filter(r => r.last_name === user.last_name)\r\n                : []\r\n            }\r\n            history={rest.history}\r\n            loading={loading}\r\n            monthFilter={monthFilter}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    loading: state.authentication.detail.loading,\r\n    authStatus: state.authentication.detail.status,\r\n    authError: state.authentication.detail.error,\r\n    restoreStatus: state.authentication.restore.status,\r\n    user: state.authentication.user\r\n  }),\r\n  {}\r\n)(Form.create()(Month));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Select } from \"antd\";\r\nimport TimeTable from \"../table\";\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nconst Days = props => {\r\n  const getData = async (last_name, date) => {\r\n    setLoading(true);\r\n    const rawResponse = await fetch(`/days/${last_name}`)\r\n    const content = await rawResponse.json();\r\n    setLoading(false);\r\n    setResult(content.data.filter(r => r.date.slice(3) == date.replace('_', '/')))\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState([]);\r\n  const [errors, setErrors] = useState(null);\r\n  const [daysFilter, setDaysFilter] = useState(moment.utc().format(\"MM/YYYY\").toString())\r\n\r\n  useEffect(() => {\r\n    const { last_name, date } = props.match.params;\r\n    getData(last_name, date);\r\n  }, []);\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <Link to=\"/\">\r\n          <Button type=\"link\" id=\"index-btn\" ghost={true}>\r\n            На главную\r\n          </Button>\r\n        </Link>\r\n        {/* <Select\r\n          className=\"select-month\"\r\n          placeholder=\"месяца\"\r\n          onChange={(e) => setDaysFilter(e)}\r\n          value={daysFilter}\r\n        >\r\n          {result &&\r\n            result\r\n              .reduce(\r\n                (acc, record) =>\r\n                  acc.includes(record.date.slice(3)) ? acc : [...acc, record.date.slice(3)],\r\n                []\r\n              )\r\n              .map(record => (\r\n                <Option key={record} value={record}>{record}</Option>\r\n              ))}\r\n        </Select> */}\r\n      </div>\r\n      <TimeTable loading={loading} result={result} daysFilter={daysFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Days;\r\n","import React from 'react';\r\nimport { Popover } from 'antd';\r\n\r\nconst questionPopover = ({\r\n  title,\r\n  children,\r\n  trigger,\r\n  position,\r\n  fill,\r\n  width,\r\n  height,\r\n}) => {\r\n  return (\r\n    <Popover\r\n      placement={position}\r\n      content={children}\r\n      title={title}\r\n      trigger={trigger}\r\n      className='popover'\r\n    >\r\n      <svg width={width} height={height} xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M12 0C5.37187 0 0 5.37187 0 12C0 18.6281 5.37187 24 12 24C18.6281 24 24 18.6281 24 12C24 5.37187 18.6281 0 12 0ZM19.2914 19.2914C18.3445 20.2383 17.2406 20.9836 16.0125 21.5016C14.7422 22.0406 13.3922 22.3125 12 22.3125C10.6078 22.3125 9.25781 22.0406 7.9875 21.5039C6.75938 20.9836 5.65781 20.2406 4.70859 19.2938C3.76172 18.3469 3.01641 17.243 2.49844 16.0148C1.95938 14.7422 1.6875 13.3922 1.6875 12C1.6875 10.6078 1.95938 9.25781 2.49609 7.9875C3.01641 6.75938 3.75938 5.65781 4.70625 4.70859C5.65312 3.76172 6.75703 3.01641 7.98516 2.49844C9.25781 1.95938 10.6078 1.6875 12 1.6875C13.3922 1.6875 14.7422 1.95938 16.0125 2.49609C17.2406 3.01641 18.3422 3.75938 19.2914 4.70625C20.2383 5.65312 20.9836 6.75703 21.5016 7.98516C22.0406 9.25781 22.3125 10.6078 22.3125 12C22.3125 13.3922 22.0406 14.7422 21.5039 16.0125C20.9836 17.2406 20.2406 18.3445 19.2914 19.2914ZM11.8781 15.5602C11.85 15.5602 11.8219 15.5578 11.7938 15.5555C11.3297 15.5109 10.9922 15.0961 11.0367 14.632C11.1516 13.4625 12.0094 12.518 12.9539 11.5734C14.4656 10.0617 14.4914 9.58125 14.5172 9.07266C14.5477 8.47969 14.3297 7.90547 13.8984 7.45312C13.4086 6.9375 12.7148 6.64219 11.9953 6.64219C11.993 6.64219 11.9906 6.64219 11.9906 6.64219C10.6055 6.64453 9.47578 7.77422 9.47578 9.16172C9.47578 9.62813 9.09844 10.0055 8.63203 10.0055C8.16563 10.0055 7.78828 9.62813 7.78828 9.16172C7.78828 8.03906 8.22422 6.98438 9.01641 6.18984C9.80859 5.39531 10.8633 4.95703 11.9859 4.95469C13.1695 4.95234 14.3133 5.43984 15.1219 6.29063C15.8742 7.08281 16.2586 8.10234 16.2023 9.16172C16.1437 10.2469 15.8109 11.1023 14.1469 12.7664C13.3031 13.6102 12.7711 14.243 12.7172 14.7984C12.675 15.2344 12.307 15.5602 11.8781 15.5602ZM10.8328 18.0281C10.8328 18.3907 11.0262 18.7257 11.3402 18.907C11.6542 19.0883 12.0411 19.0883 12.3551 18.907C12.6691 18.7257 12.8625 18.3907 12.8625 18.0281C12.8625 17.4676 12.4081 17.0133 11.8477 17.0133C11.2872 17.0133 10.8328 17.4676 10.8328 18.0281Z\"\r\n          fill={fill}\r\n        />\r\n      </svg>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default questionPopover;\r\n","import React from \"react\";\r\nimport { Modal, Button, Form, Input, Row } from \"antd\";\r\nimport { showSuccessModal } from \"../modal\";\r\nimport { config } from \"../conf\";\r\nimport \"./showModal.css\";\r\nimport QuestionPopover from \"../questionPopover\";\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst { Fragment } = React;\r\n\r\nclass ShowModal extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { visible: false };\r\n  }\r\n\r\n  addUser = async values => {\r\n    const rawResponse = await fetch(\"/user\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(values)\r\n    });\r\n    const content = await rawResponse.json();\r\n    switch (content.status) {\r\n      case 201:\r\n        showSuccessModal({\r\n          title: \"Успех!\",\r\n          content: `Пользователь ${values[\"name\"]} ${values[\"last_name\"]}, успешно добавлен!`,\r\n          className: \"vehicleSuccess\",\r\n          okText: \"Готово\",\r\n          icon: \"check\",\r\n          closable: true,\r\n          maskClosable: true,\r\n          centered: true\r\n        });\r\n        this.setState({ visible: false });\r\n        break;\r\n\r\n      case 302:\r\n        showSuccessModal({\r\n          title: \"Ошибка!\",\r\n          content: content.message,\r\n          className: \"vehicleSuccess vehicleSuccess_warning\",\r\n          okText: \"Готово\",\r\n          icon: \"warning\",\r\n          closable: true,\r\n          maskClosable: true,\r\n          centered: true\r\n        });\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.persist();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.addUser(values);\r\n        this.props.form.resetFields();\r\n      }\r\n    });\r\n  };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { content, form } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Button\r\n          type=\"link\"\r\n          ghost={true}\r\n          onClick={this.showModal}\r\n          id=\"create-user\"\r\n        >\r\n          Создать пользователя\r\n        </Button>\r\n        <Modal\r\n          title={this.props.title}\r\n          visible={this.state.visible}\r\n          onOk={this.onSubmit}\r\n          className=\"register-window\"\r\n          centered={true}\r\n          onCancel={this.handleCancel}\r\n          cancelText=\"Отмена\"\r\n          okText=\"Создать\"\r\n          cancelButtonProps={{ type: \"danger\" }}\r\n        >\r\n          <div className=\"register-layout\">\r\n            <Form className=\"register-form\" onSubmit={this.onSubmit}>\r\n              <Form.Item label=\"Имя\">\r\n                {form.getFieldDecorator(\r\n                  \"name\",\r\n                  config(\"\", true)\r\n                )(<Input placeholder=\"Укажите\" className=\"sm\" />)}\r\n              </Form.Item>\r\n              <Form.Item label=\"Фамилия\">\r\n                {form.getFieldDecorator(\r\n                  \"last_name\",\r\n                  config(\"\", true)\r\n                )(<Input placeholder=\"Укажите\" className=\"sm\" />)}\r\n              </Form.Item>\r\n              <Form.Item label=\"api-key\">\r\n                {form.getFieldDecorator(\r\n                  \"api_key\",\r\n                  config(\"\", true)\r\n                )(<Input placeholder=\"Укажите\" className=\"md\" />)}\r\n                <QuestionPopover\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  trigger=\"click\"\r\n                  fill=\"#00a8ff\"\r\n                  position=\"top\"\r\n                >\r\n                  {content}\r\n                </QuestionPopover>\r\n              </Form.Item>\r\n              <Form.Item label=\"О себе\">\r\n                <TextArea rows={3} className=\"about-input\" cols={43} />\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Modal>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(ShowModal);\r\n","import React, { useEffect } from \"react\";\r\nimport { Button, Form, Input, Icon } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { config } from \"../conf\";\r\nimport { login } from \"./redux/actions\";\r\nimport QuestionPopover from \"../questionPopover\";\r\nimport { showSuccessModal } from \"../modal\";\r\nimport Register from \"../showModal\";\r\nimport \"./Login.css\";\r\n\r\nconst content = (\r\n  <div>\r\n    api-key можно посмотреть https://wakatime.com/dashboard в настройках\r\n  </div>\r\n);\r\n\r\nconst Login = ({\r\n  form,\r\n  login,\r\n  loading,\r\n  authStatus,\r\n  user,\r\n  authError,\r\n  ...rest\r\n}) => {\r\n  const submitLogin = e => {\r\n    e.persist();\r\n    form.validateFields((err, values) => {\r\n      if (!err) {\r\n        login(values);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authError) {\r\n      showSuccessModal({\r\n        title: `Ошибка! `,\r\n        content: `При авторизации возникли ошибки << ${authError} >>`,\r\n        className: \"vehicleSuccess vehicleSuccess_warning\",\r\n        okText: \"Ок\",\r\n        icon: \"warning\",\r\n        closable: true,\r\n        maskClosable: true,\r\n        centered: true\r\n      });\r\n    }\r\n  }, authError);\r\n\r\n  return (\r\n    <div id=\"login\">\r\n      <Form className=\"login-form\" autoComplete=\"off\" onSubmit={submitLogin}>\r\n        <h1>\r\n          Вход\r\n          <Icon type=\"login\" />\r\n        </h1>\r\n        <div>\r\n          <Form.Item>\r\n            {form.getFieldDecorator(\r\n              \"api_key\",\r\n              config(\"\", true)\r\n            )(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\r\n                }\r\n                type=\"password\"\r\n                placeholder=\"Укажите api-key\"\r\n              />\r\n            )}\r\n          </Form.Item>\r\n          <QuestionPopover\r\n            width=\"24\"\r\n            height=\"24\"\r\n            trigger=\"click\"\r\n            fill=\"#00a8ff\"\r\n            position=\"top\"\r\n          >\r\n            {content}\r\n          </QuestionPopover>\r\n        </div>\r\n\r\n        <div className=\"login-area\">\r\n          <Form.Item>\r\n            {form.getFieldDecorator(\r\n              \"last_name\",\r\n              config(\"\", true)\r\n            )(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\r\n                }\r\n                placeholder=\"Укажите фамилию\"\r\n              />\r\n            )}\r\n          </Form.Item>\r\n          <Button\r\n            onClick={submitLogin}\r\n            className=\"login-btn\"\r\n            type=\"primary\"\r\n            loading={loading}\r\n          >\r\n            Вход\r\n          </Button>\r\n        </div>\r\n\r\n        <Register content={content} title=\"Создание нового пользователя\" />\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  state => ({\r\n    loading: state.authentication.detail.loading,\r\n    authStatus: state.authentication.detail.status,\r\n    authError: state.authentication.detail.error,\r\n    restoreStatus: state.authentication.restore.status,\r\n    user: state.authentication.user\r\n  }),\r\n  {\r\n    login\r\n  }\r\n)(Form.create()(Login));\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Divider, Icon, Typography, Avatar, Popover } from \"antd\";\r\nimport { logout, resetUser } from \"../auth/redux/actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { showSuccessModal } from \"../modal\";\r\nimport \"./Header.css\";\r\nconst { Text } = Typography;\r\n\r\nconst Header = ({ logout, ...rest }) => {\r\n  useEffect(() => {\r\n    switch (rest.authStatus) {\r\n      case \"SUCCESS\":\r\n        showSuccessModal({\r\n          title: `Добро Пожаловать! ${rest.user[\"name\"]} ${rest.user[\"last_name\"]}`,\r\n          className: \"vehicleSuccess\",\r\n          okText: \"Спасибо\",\r\n          icon: \"check\",\r\n          closable: true,\r\n          maskClosable: true,\r\n          centered: true\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, rest.authStatus);\r\n  return (\r\n    <header id=\"header\">\r\n      <div className=\"header-row\">\r\n        <div className=\"header-row-container\">\r\n          <div className=\"item-cell\">\r\n            {rest.user ? (\r\n              <Link to=\"/\">\r\n                <a href=\"/\">\r\n                  <Icon type=\"experiment\" />\r\n                  <span>\r\n                    <Text strong code>\r\n                      Waka-Prime\r\n                    </Text>\r\n                  </span>\r\n                </a>\r\n              </Link>\r\n            ) : (\r\n              <React.Fragment>\r\n                <Icon type=\"experiment\" className=\"inactive\" />\r\n                <span>\r\n                  <Text strong code>\r\n                    Waka-Prime\r\n                  </Text>\r\n                </span>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n          <Divider type=\"vertical\" />\r\n          <div className=\"item-cell info-cell\">\r\n            {rest.user && (\r\n              <Popover\r\n                placement=\"bottom\"\r\n                content={\r\n                  <div>\r\n                    <Text style={{ \"font-size\": \"18px\" }} type=\"strong\">\r\n                      Ваша роль:\r\n                      {rest.user.omnipotent ? \"Администратор\" : \"Разработчик\"}\r\n                    </Text>\r\n                  </div>\r\n                }\r\n                trigger={\"click\"}\r\n                className=\"popover\"\r\n              >\r\n                <Icon type=\"bell\" />\r\n              </Popover>\r\n            )}\r\n          </div>\r\n          <Divider type=\"vertical\" />\r\n          <div className=\"item-cell\">\r\n            {rest.user && (\r\n              <div className=\"user-area\">\r\n                <Avatar icon={<Icon type=\"user\" />} />\r\n                <Text style={{ \"font-size\": \"18px\" }} type=\"strong\">\r\n                  {rest.user && rest.user.last_name}\r\n                </Text>\r\n                <Icon type=\"logout\" onClick={logout} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  state => ({\r\n    authStatus: state.authentication.detail.status,\r\n    user: state.authentication.user\r\n  }),\r\n  {\r\n    logout\r\n  }\r\n)(Header);\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Switch, BrowserRouter } from \"react-router-dom\";\r\nimport NotFoundPage from \"./component/notFoundPage\";\r\nimport Month from \"./component/month\";\r\nimport Days from \"./component/day\";\r\nimport Login from \"./component/auth\";\r\nimport Header from \"./component/header\";\r\nimport { connect } from \"react-redux\";\r\n// import { Icon } from \"antd\";\r\nimport { restoreProfile } from \"./component/auth/redux/actions\";\r\nimport \"./App.css\";\r\n\r\nfunction App({ restoreProfile, ...rest }) {\r\n  useEffect(() => {\r\n    restoreProfile();\r\n  }, []);\r\n  return (\r\n    <div className=\"App\">\r\n      <div id=\"mainContainer\">\r\n        <Header />\r\n        <div id=\"mainSheet\">\r\n          <Switch>\r\n            <Route exact path=\"/\" render={props => <Month {...props} />} />\r\n            <Route\r\n              exact\r\n              path=\"/detail/:last_name/:date/\"\r\n              render={props => <Days {...props} />}\r\n            />\r\n\r\n            <Route exact path=\"/login\" render={props => <Login {...props} />} />\r\n\r\n            <Route\r\n              path=\"*\"\r\n              render={props => (\r\n                <NotFoundPage\r\n                  errorText=\"Страница не найдена\"\r\n                  errorCaption=\"404\"\r\n                  {...props}\r\n                />\r\n              )}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, {\r\n  restoreProfile\r\n})(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport createAppStore from './store/store';\r\nimport createHistory from './middleware/history';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nconst store = createAppStore();\r\n\r\nReactDOM.render(<Router history={createHistory}> <Provider store={store}><App /></Provider></Router>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}