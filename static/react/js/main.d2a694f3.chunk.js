(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{227:function(e,t,a){e.exports=a(439)},239:function(e,t,a){},243:function(e,t,a){},428:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},439:function(e,t,a){"use strict";a.r(t);var n,r,c,i=a(0),o=a.n(i),l=a(5),s=a.n(l),u=a(64),m=a(50),d=a(34),f=a(223),p=a(33),E=Object(p.a)(),h=function(e){return function(e){return function(t){return"LOGOUT"===t.type&&E.push("/login"),e(t)}}},b=a(209),v=a(51),g=a(44),O=a(447),y=a(445),k=Object(y.a)("LOGIN","SET_USER","RESET_USER","LOGIN_SUCCESS","LOGIN_FAILURE","RESTORE_PROFILE","RESTORE_PROFILE_SUCCESS","RESTORE_PROFILE_FAILURE","LOGOUT"),j=k.login,C=k.setUser,S=k.resetUser,x=k.loginSuccess,w=k.loginFailure,_=k.restoreProfile,N=k.restoreProfileSuccess,T=k.restoreProfileFailure,I=k.logout,F=Object(O.a)((n={},Object(g.a)(n,C,(function(e,t){return t.payload})),Object(g.a)(n,S,(function(){return null})),n),null),R=Object(O.a)((r={},Object(g.a)(r,j,(function(e,t){return Object(v.a)({},e,{loading:!0,error:null})})),Object(g.a)(r,x,(function(e,t){t.payload;return{status:"SUCCESS",loading:!1}})),Object(g.a)(r,w,(function(e,t){return{error:t.payload,status:"FAILURE",loading:!1}})),r),{error:null,status:"IDLE",loading:!1}),L=Object(O.a)((c={},Object(g.a)(c,_,(function(e,t){return Object(v.a)({},e)})),Object(g.a)(c,N,(function(e,t){t.payload;return{status:"SUCCESS"}})),Object(g.a)(c,T,(function(e,t){return{error:t.payload,status:"FAILURE"}})),c),{error:null,status:"IDLE"}),U=Object(d.combineReducers)({user:F,detail:R,restore:L}),P=Object(d.combineReducers)({authentication:U}),D=a(19),M=a.n(D),A=a(26),Y=function(e){return fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e}))},G=function(e){return fetch("/retrieve",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"".concat(e)}}).then((function(e){return e}))},W=M.a.mark(V),z=M.a.mark(q),B=M.a.mark(X),J=M.a.mark($),Z={401:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 api-key",406:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0432\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 - \u0442.\u043a \u0432\u044b \u0435\u0449\u0435 \u043d\u0435 \u043d\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0438 \u043c\u0438\u043d\u0443\u0442\u044b"};function V(e){var t,a,n,r,c;return M.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(A.a)(Y,t);case 3:if(200!==(a=i.sent).status){i.next=17;break}return i.next=7,Object(A.a)([a,"json"]);case 7:return n=i.sent,r=n.user.token,c=n.user,i.next=12,Object(A.c)(C(c));case 12:return localStorage.setItem("wakav1.0-token","".concat(c.id," ").concat(r)),i.next=15,Object(A.c)(x());case 15:i.next=19;break;case 17:return i.next=19,Object(A.c)(w(Z[a.status]));case 19:case"end":return i.stop()}}),W)}function q(e){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("wakav1.0-token"),e.next=3,Object(A.c)(S());case 3:case"end":return e.stop()}}),z)}function X(e){var t,a,n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("wakav1.0-token"))){e.next=22;break}return e.next=4,Object(A.a)(G,t);case 4:return a=e.sent,e.next=7,Object(A.a)([a,"json"]);case 7:if(n=e.sent,!(r=n.user)){e.next=16;break}return e.next=12,Object(A.c)(C(r));case 12:return e.next=14,Object(A.c)(N());case 14:e.next=20;break;case 16:if(!n.error){e.next=20;break}return localStorage.removeItem("wakav1.0-token"),e.next=20,Object(A.c)(T(n.error));case 20:e.next=24;break;case 22:return e.next=24,Object(A.c)(T());case 24:case"end":return e.stop()}}),B)}function $(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.d)(j.toString(),V);case 2:return e.next=4,Object(A.d)(I.toString(),q);case 4:return e.next=6,Object(A.d)(_.toString(),X);case 6:case"end":return e.stop()}}),J)}var H=M.a.mark(K);function K(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.b)($);case 2:case"end":return e.stop()}}),H)}var Q=function(){var e=Object(f.a)(),t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.composeWithDevTools||d.compose,a=Object(d.createStore)(P,t(Object(d.applyMiddleware)(e,h)));return e.run(K),a},ee=a(61),te=a(119),ae=a(120),ne=a(130),re=a(121),ce=a(131),ie=(a(239),function(e){function t(){return Object(te.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.errorText,a=e.errorCaption;return o.a.createElement("div",{id:"notFoundPage"},o.a.createElement("h2",{className:"errorCaption"},a),o.a.createElement("div",{className:"errorText"},t))}}]),t}(o.a.Component)),oe=a(40),le=a(169),se=a(6),ue=a(443),me=a(210),de=a(448),fe=(a(243),de.a.confirm),pe=function(e,t){var a=t||5,n=de.a.confirm(e);Ee(n,e.okText,a);var r=setInterval((function(){a-=1,Ee(n,e.okText,a)}),1e3);setTimeout((function(){clearInterval(r),n.destroy()}),1e3*a)},Ee=function(e,t,a){e.update({okText:t+" ("+a+")"})},he=o.a.createElement(se.a,{type:"loading",style:{fontSize:44},spin:!0}),be=function(e){var t,a=e/60^0;if(a){var n=e%60;n<10&&(n="0"+n),t=a+" \u0447 "+n+" \u043c"}else t=e+" \u043c";return t},ve=function(e){return e.length>4&&60*e.split(" ")[0]+e.split(" ")[2]},ge=[{label:"\u0414\u0430\u0442\u0430",key:"date"},{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",key:"last_name"},{label:"\u0412\u0440\u0435\u043c\u044f",key:"running_min"},{label:"\u0414\u043d\u0435\u0439 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",key:"day_worked"},{label:"\u0414\u043d\u0435\u0439 > 4",key:"day_more"},{label:"\u0414\u043d\u0435\u0439 < 4",key:"day_less"}],Oe=function(e){var t=e.result,a=Object(i.useState)(null),n=Object(oe.a)(a,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){var e=document.getElementsByClassName("csvLink");c(e.item(0)||null)}),[]),o.a.createElement("div",null,o.a.createElement(se.a,{type:"file-excel",onClick:function(){return e={title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!",icon:o.a.createElement(se.a,{type:"warning"}),content:o.a.createElement("span",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432?"),onOk:function(){r.click()},okText:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d"},void fe(Object(v.a)({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!",icon:o.a.createElement(se.a,{type:"question-circle"}),content:o.a.createElement("span",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0430\u0432\u0430\u0442\u0435\u043b\u044f?"),cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,className:"blueConfirm"},e));var e}}),o.a.createElement(me.CSVLink,{className:"csvLink",filename:"Time-Tracker.csv",data:t,headers:ge}))},ye=function(e){var t=e.result,a=e.loading,n=e.history,r=e.monthFilter,c=e.daysFilter,i=function(){return void 0!==r?t.map((function(e,t){return Object(v.a)({},e,{key:t,running_min:e.running_min&&be(e.running_min),day_worked:String(e.days.filter((function(e){return e.date.slice(3)==r})).length),day_more:String(e.days.filter((function(e){return e.date.slice(3)==r&&e.running_min>240})).length),day_less:String(e.days.filter((function(e){return e.date.slice(3)==r&&e.running_min<240})).length)})})).filter((function(e){return r?e.date==r:e.date.slice(3)==c})):t.map((function(e,t){return Object(v.a)({},e,{key:t,running_min:e.running_min&&be(e.running_min)})}))};return o.a.createElement("div",{className:"Table-wrapper"},!a&&o.a.createElement("div",{className:"csv-area"},o.a.createElement(Oe,{result:i()})),o.a.createElement(ue.a,{onRow:function(e,t){return{index:t,onClick:function(){return r&&(t=e.last_name,a=r.replace("/","_"),r&&n.push("/detail/".concat(t,"/").concat(a)));var t,a}}},locale:{emptyText:a?he:"\u041d\u0435\u0442\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432..."},dataSource:i(),columns:function(){var e=[{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",key:"date",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return e.date.localeCompare(t.date)}},{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",dataIndex:"last_name",key:"last_name",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return e.last_name.localeCompare(t.last_name)}},{title:"\u0412\u0440\u0435\u043c\u044f",dataIndex:"running_min",key:"running_min",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return ve(t.running_min)-ve(e.running_min)}}];return void 0!==r?[].concat(e,[{title:"\u0414\u043d\u0435\u0439 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e",dataIndex:"day_worked",key:"day_worked",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return t.day_worked-e.day_worked}},{title:"\u0434\u043d\u0435\u0439 > 4 \u0447\u0430\u0441\u043e\u0432",dataIndex:"day_more",key:"day_more",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return t.day_more-e.day_more}},{title:"\u0434\u043d\u0435\u0439 < 4 \u0447\u0430\u0441\u043e\u0432",dataIndex:"day_less",key:"day_less",width:"10%",render:function(e){return o.a.createElement("div",null,e&&e)},sorter:function(e,t){return t.day_less-e.day_less}}]):[].concat(e)}()}))},ke=a(97),je=a(444),Ce=function(e,t){return{initialValue:e,validate:[{trigger:"onChange",rules:[{required:t,message:"\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}]}]}},Se=a(75),xe=a.n(Se),we=ke.a.Option;var _e=Object(m.b)((function(e){return{loading:e.authentication.detail.loading,authStatus:e.authentication.detail.status,authError:e.authentication.detail.error,restoreStatus:e.authentication.restore.status,user:e.authentication.user}}),{})(je.a.create()((function(e){e.form,e.authStatus;var t=e.user,a=Object(ee.a)(e,["form","authStatus","user"]),n=function(e){if(!e.days||!e.month)return alert("error in fetch api"),[];var t={};e.month.reduce((function(e,t){return e.includes(t.last_name)?e:[].concat(Object(le.a)(e),[t.last_name])}),[]).forEach((function(a){t[a]=e.days.filter((function(e){return e.last_name==a}))}));return e.month.map((function(e){return Object(v.a)({},e,{days:t[e.last_name]})}))},r=Object(i.useState)(!1),c=Object(oe.a)(r,2),l=c[0],s=c[1],u=Object(i.useState)([]),m=Object(oe.a)(u,2),d=m[0],f=m[1],p=Object(i.useState)(null),E=Object(oe.a)(p,2),h=(E[0],E[1],Object(i.useState)(xe.a.utc().format("MM/YYYY").toString())),b=Object(oe.a)(h,2),g=b[0],O=b[1],y=function(){var e,t;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),a.next=3,M.a.awrap(fetch("/fetch"));case 3:return e=a.sent,a.next=6,M.a.awrap(e.json());case 6:t=a.sent,s(!1),f(n(t));case 9:case"end":return a.stop()}}))};return Object(i.useEffect)((function(){y()}),[]),o.a.createElement("div",{className:"month-app"},o.a.createElement("div",{className:"row"},o.a.createElement("div",null,o.a.createElement("div",{className:"table-hat"},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(se.a,{type:"idcard"}),o.a.createElement(ke.a,{className:"select-month",placeholder:"\u043c\u0435\u0441\u044f\u0446\u0430",onChange:function(e){return O(e)},value:g},d&&d.reduce((function(e,t){return e.includes(t.date)?e:[].concat(Object(le.a)(e),[t.date])}),[]).map((function(e){return o.a.createElement(we,{key:e,value:e},e)})))),o.a.createElement(se.a,{type:"clock-circle",onClick:y,id:"update"})),o.a.createElement(ye,{result:t?t.omnipotent?d:d.filter((function(e){return e.last_name===t.last_name})):[],history:a.history,loading:l,monthFilter:g}))))}))),Ne=a(39),Te=a(85),Ie=(ke.a.Option,function(e){var t=Object(i.useState)(!1),a=Object(oe.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)([]),l=Object(oe.a)(c,2),s=l[0],u=l[1],m=Object(i.useState)(null),d=Object(oe.a)(m,2),f=(d[0],d[1],Object(i.useState)(xe.a.utc().format("MM/YYYY").toString())),p=Object(oe.a)(f,2),E=p[0];p[1];return Object(i.useEffect)((function(){var t=e.match.params;!function(e,t){var a,n;M.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r(!0),c.next=3,M.a.awrap(fetch("/days/".concat(e)));case 3:return a=c.sent,c.next=6,M.a.awrap(a.json());case 6:n=c.sent,r(!1),u(n.data.filter((function(e){return e.date.slice(3)==t.replace("_","/")})));case 9:case"end":return c.stop()}}))}(t.last_name,t.date)}),[]),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement(Te.a,{to:"/"},o.a.createElement(Ne.a,{type:"link",id:"index-btn",ghost:!0},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))),o.a.createElement(ye,{loading:n,result:s,daysFilter:E}))}),Fe=a(449),Re=a(440),Le=function(e){var t=e.title,a=e.children,n=e.trigger,r=e.position,c=e.fill,i=e.width,l=e.height;return o.a.createElement(Re.a,{placement:r,content:a,title:t,trigger:n,className:"popover"},o.a.createElement("svg",{width:i,height:l,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0C5.37187 0 0 5.37187 0 12C0 18.6281 5.37187 24 12 24C18.6281 24 24 18.6281 24 12C24 5.37187 18.6281 0 12 0ZM19.2914 19.2914C18.3445 20.2383 17.2406 20.9836 16.0125 21.5016C14.7422 22.0406 13.3922 22.3125 12 22.3125C10.6078 22.3125 9.25781 22.0406 7.9875 21.5039C6.75938 20.9836 5.65781 20.2406 4.70859 19.2938C3.76172 18.3469 3.01641 17.243 2.49844 16.0148C1.95938 14.7422 1.6875 13.3922 1.6875 12C1.6875 10.6078 1.95938 9.25781 2.49609 7.9875C3.01641 6.75938 3.75938 5.65781 4.70625 4.70859C5.65312 3.76172 6.75703 3.01641 7.98516 2.49844C9.25781 1.95938 10.6078 1.6875 12 1.6875C13.3922 1.6875 14.7422 1.95938 16.0125 2.49609C17.2406 3.01641 18.3422 3.75938 19.2914 4.70625C20.2383 5.65312 20.9836 6.75703 21.5016 7.98516C22.0406 9.25781 22.3125 10.6078 22.3125 12C22.3125 13.3922 22.0406 14.7422 21.5039 16.0125C20.9836 17.2406 20.2406 18.3445 19.2914 19.2914ZM11.8781 15.5602C11.85 15.5602 11.8219 15.5578 11.7938 15.5555C11.3297 15.5109 10.9922 15.0961 11.0367 14.632C11.1516 13.4625 12.0094 12.518 12.9539 11.5734C14.4656 10.0617 14.4914 9.58125 14.5172 9.07266C14.5477 8.47969 14.3297 7.90547 13.8984 7.45312C13.4086 6.9375 12.7148 6.64219 11.9953 6.64219C11.993 6.64219 11.9906 6.64219 11.9906 6.64219C10.6055 6.64453 9.47578 7.77422 9.47578 9.16172C9.47578 9.62813 9.09844 10.0055 8.63203 10.0055C8.16563 10.0055 7.78828 9.62813 7.78828 9.16172C7.78828 8.03906 8.22422 6.98438 9.01641 6.18984C9.80859 5.39531 10.8633 4.95703 11.9859 4.95469C13.1695 4.95234 14.3133 5.43984 15.1219 6.29063C15.8742 7.08281 16.2586 8.10234 16.2023 9.16172C16.1437 10.2469 15.8109 11.1023 14.1469 12.7664C13.3031 13.6102 12.7711 14.243 12.7172 14.7984C12.675 15.2344 12.307 15.5602 11.8781 15.5602ZM10.8328 18.0281C10.8328 18.3907 11.0262 18.7257 11.3402 18.907C11.6542 19.0883 12.0411 19.0883 12.3551 18.907C12.6691 18.7257 12.8625 18.3907 12.8625 18.0281C12.8625 17.4676 12.4081 17.0133 11.8477 17.0133C11.2872 17.0133 10.8328 17.4676 10.8328 18.0281Z",fill:c})))},Ue=(a(428),Fe.a.TextArea,o.a.Fragment),Pe=function(e){function t(e){var a;return Object(te.a)(this,t),(a=Object(ne.a)(this,Object(re.a)(t).call(this,e))).addUser=function(e){var t,n;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M.a.awrap(fetch("/user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 2:return t=r.sent,r.next=5,M.a.awrap(t.json());case 5:n=r.sent,r.t0=n.status,r.next=201===r.t0?9:302===r.t0?12:14;break;case 9:return pe({title:"\u0423\u0441\u043f\u0435\u0445!",content:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(e.name," ").concat(e.last_name,", \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"),className:"vehicleSuccess",okText:"\u0413\u043e\u0442\u043e\u0432\u043e",icon:"check",closable:!0,maskClosable:!0,centered:!0}),a.setState({visible:!1}),r.abrupt("break",15);case 12:return pe({title:"\u041e\u0448\u0438\u0431\u043a\u0430!",content:n.message,className:"vehicleSuccess vehicleSuccess_warning",okText:"\u0413\u043e\u0442\u043e\u0432\u043e",icon:"warning",closable:!0,maskClosable:!0,centered:!0}),r.abrupt("break",15);case 14:return r.abrupt("break",15);case 15:case"end":return r.stop()}}))},a.onSubmit=function(e){e.persist(),a.props.form.validateFields((function(e,t){e||(a.addUser(t),a.props.form.resetFields())}))},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.state={visible:!1},a}return Object(ce.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.content,a=e.form;return o.a.createElement(Ue,null,o.a.createElement(Ne.a,{type:"link",ghost:!0,onClick:this.showModal,id:"create-user"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),o.a.createElement(de.a,{title:this.props.title,visible:this.state.visible,onOk:this.onSubmit,className:"register-window",centered:!0,onCancel:this.handleCancel,cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",okText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",cancelButtonProps:{type:"danger"}},o.a.createElement("div",{className:"register-layout"},o.a.createElement(je.a,{className:"register-form",onSubmit:this.onSubmit},o.a.createElement(je.a.Item,{label:"\u0418\u043c\u044f"},a.getFieldDecorator("name",Ce("",!0))(o.a.createElement(Fe.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435",className:"sm"}))),o.a.createElement(je.a.Item,{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},a.getFieldDecorator("last_name",Ce("",!0))(o.a.createElement(Fe.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435",className:"sm"}))),o.a.createElement(je.a.Item,{label:"api-key"},a.getFieldDecorator("api_key",Ce("",!0))(o.a.createElement(Fe.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435",className:"md"})),o.a.createElement(Le,{width:"24",height:"24",trigger:"click",fill:"#00a8ff",position:"top"},t))))))}}]),t}(o.a.PureComponent),De=je.a.create()(Pe),Me=(a(432),o.a.createElement("div",null,"api-key \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c https://wakatime.com/dashboard \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445")),Ae=Object(m.b)((function(e){return{loading:e.authentication.detail.loading,authStatus:e.authentication.detail.status,authError:e.authentication.detail.error,restoreStatus:e.authentication.restore.status,user:e.authentication.user}}),{login:j})(je.a.create()((function(e){var t=e.form,a=e.login,n=e.loading,r=(e.authStatus,e.user,e.authError),c=(Object(ee.a)(e,["form","login","loading","authStatus","user","authError"]),function(e){e.persist(),t.validateFields((function(e,t){e||a(t)}))});return Object(i.useEffect)((function(){r&&pe({title:"\u041e\u0448\u0438\u0431\u043a\u0430! ",content:"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 << ".concat(r," >>"),className:"vehicleSuccess vehicleSuccess_warning",okText:"\u041e\u043a",icon:"warning",closable:!0,maskClosable:!0,centered:!0})}),r),o.a.createElement("div",{id:"login"},o.a.createElement(je.a,{className:"login-form",autoComplete:"off",onSubmit:c},o.a.createElement("h1",null,"\u0412\u0445\u043e\u0434",o.a.createElement(se.a,{type:"login"})),o.a.createElement("div",null,o.a.createElement(je.a.Item,null,t.getFieldDecorator("api_key",Ce("",!0))(o.a.createElement(Fe.a,{prefix:o.a.createElement(se.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 api-key"}))),o.a.createElement(Le,{width:"24",height:"24",trigger:"click",fill:"#00a8ff",position:"top"},Me)),o.a.createElement("div",{className:"login-area"},o.a.createElement(je.a.Item,null,t.getFieldDecorator("last_name",Ce("",!0))(o.a.createElement(Fe.a,{prefix:o.a.createElement(se.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"}))),o.a.createElement(Ne.a,{onClick:c,className:"login-btn",type:"primary",loading:n},"\u0412\u0445\u043e\u0434")),o.a.createElement(De,{content:Me,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})))}))),Ye=a(446),Ge=a(441),We=a(442),ze=(a(433),Ye.a.Text),Be=Object(m.b)((function(e){return{authStatus:e.authentication.detail.status,user:e.authentication.user}}),{logout:I})((function(e){var t=e.logout,a=Object(ee.a)(e,["logout"]);return Object(i.useEffect)((function(){switch(a.authStatus){case"SUCCESS":pe({title:"\u0414\u043e\u0431\u0440\u043e \u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! ".concat(a.user.name," ").concat(a.user.last_name),className:"vehicleSuccess",okText:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e",icon:"check",closable:!0,maskClosable:!0,centered:!0})}}),a.authStatus),o.a.createElement("header",{id:"header"},o.a.createElement("div",{className:"header-row"},o.a.createElement("div",{className:"header-row-container"},o.a.createElement("div",{className:"item-cell"},a.user?o.a.createElement(Te.a,{to:"/"},o.a.createElement("a",{href:"/"},o.a.createElement(se.a,{type:"experiment"}),o.a.createElement("span",null,o.a.createElement(ze,{strong:!0,code:!0},"Waka-Prime")))):o.a.createElement(o.a.Fragment,null,o.a.createElement(se.a,{type:"experiment",className:"inactive"}),o.a.createElement("span",null,o.a.createElement(ze,{strong:!0,code:!0},"Waka-Prime")))),o.a.createElement(Ge.a,{type:"vertical"}),o.a.createElement("div",{className:"item-cell info-cell"},a.user&&o.a.createElement(Re.a,{placement:"bottom",content:o.a.createElement("div",null,o.a.createElement(ze,{style:{"font-size":"18px"},type:"strong"},"\u0412\u0430\u0448\u0430 \u0440\u043e\u043b\u044c:",a.user.omnipotent?" \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":" \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a")),trigger:"click",className:"popover"},o.a.createElement(se.a,{type:"bell"}))),o.a.createElement(Ge.a,{type:"vertical"}),o.a.createElement("div",{className:"item-cell"},a.user&&o.a.createElement("div",{className:"user-area"},o.a.createElement(We.a,{icon:o.a.createElement(se.a,{type:"user"})}),o.a.createElement(ze,{style:{"font-size":"18px"},type:"strong"},a.user&&"".concat(a.user.last_name,". ").concat(a.user.name&&a.user.name.slice(0,1).toUpperCase()||"",".")),o.a.createElement(se.a,{type:"logout",onClick:t}))))))})),Je=(a(435),function(){return o.a.createElement("div",{className:"loader"})});a(436);var Ze=Object(m.b)((function(e){return{profile:e.authentication.user,restoring:e.authentication.restore.status}}),{restoreProfile:_})((function(e){var t=e.restoreProfile,a=e.restoring,n=e.profile;return Object(ee.a)(e,["restoreProfile","restoring","profile"]),Object(i.useEffect)((function(){t()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{id:"mainContainer"},o.a.createElement(Be,null),o.a.createElement("div",{id:"mainSheet"},o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",render:function(e){return n?o.a.createElement(_e,e):"IDLE"==a?o.a.createElement(Je,null):o.a.createElement(u.a,{to:"/login"})}}),o.a.createElement(u.b,{exact:!0,path:"/detail/:last_name/:date/",render:function(e){return o.a.createElement(Ie,e)}}),o.a.createElement(u.b,{exact:!0,path:"/login",render:function(e){return n?o.a.createElement(u.a,{to:"/"}):"IDLE"==a?o.a.createElement(Je,null):o.a.createElement(Ae,e)}}),o.a.createElement(u.b,{path:"*",render:function(e){return o.a.createElement(ie,Object.assign({errorText:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430",errorCaption:"404"},e))}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(437),a(438);var Ve=Q();s.a.render(o.a.createElement(u.c,{history:E}," ",o.a.createElement(m.a,{store:Ve},o.a.createElement(Ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[227,1,2]]]);
//# sourceMappingURL=main.d2a694f3.chunk.js.map